

function (_ENV)
local string, math, print, type, pairs = nil, nil, nil, nil, nil;
local _module = _obj({exports=_obj({})}); local exports, module = _module.exports, _module;

local qs, parse, query = qs, parse, query;
qs = require(global, ("qs"));
parse = (require(global, ("../utils"))).parseUrl;
(module).exports = (function () query = (function (this, options)
local query = _debug.getinfo(1, 'f').func;
local query = query;
if true then return (function () query = (function (this, req, res, next)
local query = _debug.getinfo(1, 'f').func;
if (not _truthy((req).query)) then
(req).query = (_truthy(_bit.bnot((req).url:indexOf(("?")))) and {qs:parse(parse(global, req).query, options)} or {_obj({
  })})[1];
end
if next(global) then end;
end); return query; end)(); end;
end); return query; end)();

return _module.exports;
end