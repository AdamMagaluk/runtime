

function (_ENV)
local string, math, print, type, pairs = nil, nil, nil, nil, nil;
local _module = _obj({exports=_obj({})}); local exports, module = _module.exports, _module;

local responseTime = responseTime;
(module).exports = (function () responseTime = (function (this)
local responseTime = _debug.getinfo(1, 'f').func;
if true then return (function (this, req, res, next)
local start = start;
start = _new(Date);
if _truthy((res)._responseTime) then
if true then return next(global); end;
end
(res)._responseTime = (true);
if res:on(("header"), (function (this)
local duration = duration;
duration = (_new(Date) - start);
if res:setHeader(("X-Response-Time"), (duration + ("ms"))) then end;
end)) then end;
if next(global) then end;
end); end;
end); return responseTime; end)();

return _module.exports;
end